<!DOCTYPE HTML>
<html lang="zh" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linux桌面环境 - 文档</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../linux/index.html"><strong aria-hidden="true">1.</strong> Linux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../linux/desktop_env/index.html" class="active"><strong aria-hidden="true">1.1.</strong> Linux桌面环境</a></li><li class="chapter-item expanded "><a href="../../linux/vsftp/index.html"><strong aria-hidden="true">1.2.</strong> vsftp</a></li><li class="chapter-item expanded "><a href="../../linux/systemd/index.html"><strong aria-hidden="true">1.3.</strong> systemd</a></li></ol></li><li class="chapter-item expanded "><a href="../../windows/index.html"><strong aria-hidden="true">2.</strong> Windows</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../windows/command_prompt/index.html"><strong aria-hidden="true">2.1.</strong> Command Prompt</a></li><li class="chapter-item expanded "><a href="../../windows/wsl2/index.html"><strong aria-hidden="true">2.2.</strong> wsl2</a></li></ol></li><li class="chapter-item expanded "><a href="../../docker/index.html"><strong aria-hidden="true">3.</strong> Docker</a></li><li class="chapter-item expanded "><a href="../../git/index.html"><strong aria-hidden="true">4.</strong> Git</a></li><li class="chapter-item expanded "><a href="../../java/index.html"><strong aria-hidden="true">5.</strong> Java</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../java/java_basics/index.html"><strong aria-hidden="true">5.1.</strong> Java基础</a></li><li class="chapter-item expanded "><a href="../../java/multithreading/index.html"><strong aria-hidden="true">5.2.</strong> 多线程</a></li><li class="chapter-item expanded "><a href="../../java/maven/index.html"><strong aria-hidden="true">5.3.</strong> Maven</a></li><li class="chapter-item expanded "><a href="../../java/gradle/index.html"><strong aria-hidden="true">5.4.</strong> Gradle</a></li><li class="chapter-item expanded "><a href="../../java/design_pattern/index.html"><strong aria-hidden="true">5.5.</strong> 设计模式</a></li><li class="chapter-item expanded "><a href="../../java/java_web/index.html"><strong aria-hidden="true">5.6.</strong> Java Web</a></li><li class="chapter-item expanded "><a href="../../java/SSM/index.html"><strong aria-hidden="true">5.7.</strong> SSM</a></li><li class="chapter-item expanded "><a href="../../java/project/index.html"><strong aria-hidden="true">5.8.</strong> 项目</a></li><li class="chapter-item expanded "><a href="../../java/shiro/index.html"><strong aria-hidden="true">5.9.</strong> Shiro</a></li><li class="chapter-item expanded "><a href="../../java/netty/index.html"><strong aria-hidden="true">5.10.</strong> Netty</a></li><li class="chapter-item expanded "><a href="../../java/spring/index.html"><strong aria-hidden="true">5.11.</strong> Spring</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../java/spring/spring_security/index.html"><strong aria-hidden="true">5.11.1.</strong> Spring Security</a></li><li class="chapter-item expanded "><a href="../../java/spring/spring_cloud/index.html"><strong aria-hidden="true">5.11.2.</strong> Spring Cloud</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../mysql/index.html"><strong aria-hidden="true">6.</strong> Mysql</a></li><li class="chapter-item expanded "><a href="../../nginx/index.html"><strong aria-hidden="true">7.</strong> Nginx</a></li><li class="chapter-item expanded "><a href="../../redis/index.html"><strong aria-hidden="true">8.</strong> Redis</a></li><li class="chapter-item expanded "><a href="../../vim/index.html"><strong aria-hidden="true">9.</strong> Vim/Neovim</a></li><li class="chapter-item expanded "><a href="../../vue/index.html"><strong aria-hidden="true">10.</strong> Vue</a></li><li class="chapter-item expanded "><a href="../../web/index.html"><strong aria-hidden="true">11.</strong> Web</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">文档</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="linux桌面环境"><a class="header" href="#linux桌面环境">Linux桌面环境</a></h1>
<blockquote>
<p>以debian为例</p>
</blockquote>
<h2 id="安装"><a class="header" href="#安装">安装</a></h2>
<ul>
<li>
<p>制作一个微pe的u盘</p>
</li>
<li>
<p>设置电脑硬盘启动顺序为u盘启动</p>
<ul>
<li>以我的电脑为例dell笔记本，开机出现图标不停按F12，后续操作百度</li>
</ul>
</li>
<li>
<p>进入后格式化所有电脑硬盘</p>
</li>
<li>
<p>使用debian制作启动盘</p>
</li>
<li>
<p>由于安装时可能会提示缺少固件，需要下载nofree的固件先放在u盘内的firmware文件夹内，没有就新建一个，固件官网：https://packages.debian.org/search?keywords=stable</p>
</li>
<li>
<p>安装过程参考https://www.cnblogs.com/Cylon/archive/2022/08/02/16544912.html</p>
</li>
<li>
<p>固件官网：<code>https://packages.debian.org/stable</code></p>
</li>
<li>
<p>固件git网站：<code>https://git.kernel.org/pub/scm/linux/kernel/git/firmware/linux-firmware.git</code></p>
</li>
<li>
<p>卸载桌面环境apt autoremove  --purge kde*</p>
</li>
</ul>
<h2 id="使用"><a class="header" href="#使用">使用</a></h2>
<h2 id="连接wifi"><a class="header" href="#连接wifi">连接wifi</a></h2>
<ul>
<li>查看网卡信息：<code>ifconfig -a</code></li>
<li>启动网卡： <code>ifconfig wlan0 up</code></li>
<li>生成wifi信息文件： <code>wpa_passphrase {SSID} {PASSWORD} &gt; /etc/wpa_supplicant/{SSID}.conf</code></li>
<li>连接wifi： <code>wpa_supplicant -i wlan0 -c /etc/wpa_supplicant/{SSID}.conf -B</code></li>
<li>启动动态分配ip服务：<code>dhclient wlan0</code></li>
</ul>
<h2 id="磁盘"><a class="header" href="#磁盘">磁盘</a></h2>
<ul>
<li>
<p>查看磁盘大小 <code>df -h</code> ，<code>fdisk -l</code></p>
</li>
<li>
<h6 id="查看sata速度和具体设备dmesg-grep-sata"><a class="header" href="#查看sata速度和具体设备dmesg-grep-sata">查看SATA速度和具体设备<code>dmesg |grep SATA</code></a></h6>
</li>
</ul>
<h2 id="字体"><a class="header" href="#字体">字体</a></h2>
<ul>
<li>设置字体大小 <code>dpkg-reconfigure console-setup</code></li>
<li>设置字体<code>dpkg-reconfigure locales</code></li>
<li>没有<code>ifconfig</code>命令时用<code>ip addr show</code>查看ip</li>
</ul>
<h2 id="内核"><a class="header" href="#内核">内核</a></h2>
<ul>
<li>
<p>切换linux内核</p>
<ul>
<li>查看当前使用的内核和需要切换的内核<code>grep menuentry /boot/grub/grub.cfg</code></li>
<li>复制menuentry后面需要切换的内核的字符串信息</li>
<li>开始引导配置 <code>nvim /etc/default/grub</code></li>
<li>修改<code>GRUB_DEFAULT=0</code>为GRUB_DEFAULT=&quot;Advanced options for Debian GNU/Linux&gt;上一步复制的字符串&quot;后保存退出</li>
<li>执行更新引导配置命令<code>update-grub</code></li>
<li>重启后使用<code>uname -a</code>查看是否修改成功</li>
</ul>
</li>
<li>
<p>删除多余的内核文件</p>
<ul>
<li>查看当前系统内安装的内核文件<code>ls /lib/modules</code></li>
<li><code>apt autoremove --purge linux-image-内核名字</code>删除内核</li>
</ul>
</li>
<li>
<p>删除旧的内核</p>
<ul>
<li>使用<code>uname -a</code>查看正在使用的内核、</li>
<li>使用<code> dpkg --get-selections |grep linux</code>查看内核列表</li>
<li>找到多余的内核后使用<code>dpkg --purge --force-remove-essential linux-image-版本号</code>删除</li>
</ul>
</li>
</ul>
<h2 id="用户"><a class="header" href="#用户">用户</a></h2>
<ul>
<li><code>useradd 用户名</code> 创建用户</li>
<li><code>passwd 用户名</code> 设置用户名的密码</li>
<li><code>chmod -d 用户家目录 用户名</code> 设置用户的家目录</li>
<li><code>cp /etc/skel/.b* 用户家目录</code>、 <code>cp /etc/skel/.p* 用户家目录</code> 复制所需的命令行配置文件到用户的家目录下</li>
<li><code>chown -R 用户名:用户名 用户家目录</code> 设置用户家目录所以文件的拥有者</li>
<li><code>chmod 770 用户家目录</code> 设置用户家目录的权限</li>
<li><code>usermod -s /bin/bash 用户名</code> 配置相关操作 </li>
</ul>
<h2 id="sudo"><a class="header" href="#sudo">sudo</a></h2>
<ul>
<li><code>apt install sudo</code> 安装</li>
<li>让普通用户可以使用sudo 命令
<ul>
<li>在<code>/etc/sudoers.d</code>目录下新建<code>用户名</code>文件</li>
<li>编写<code>用户名 ALL=(ALL) ALL</code>保存退出，这个表示用户可以执行所有命令</li>
</ul>
</li>
</ul>
<h2 id="ssh"><a class="header" href="#ssh">ssh</a></h2>
<h3 id="ssh密钥登录"><a class="header" href="#ssh密钥登录">ssh密钥登录</a></h3>
<blockquote>
<p>假如<code>a</code>需要连接到<code>b</code></p>
</blockquote>
<pre><code class="language-bash"># 在`a`的终端下输入命令生成密钥，保存在当前用户目录下的.ssh文件夹内
ssh-keygen # 正常环境下有提示回车即可（生产环境下需要看一下提示）

# 将`a`机器下的~/.ssh/id_rsa.pub文件推送到服务器`b`上
scp ~/.ssh/id_rsa.pub 用户名@`b`的ip:需要登录的用户目录/.ssh/authorized_keys

# 使用ssh连接
ssh `b`
</code></pre>
<ul>
<li>清理密钥 <code>ssh-keygen -R ip</code></li>
</ul>
<h2 id="apt"><a class="header" href="#apt">apt</a></h2>
<ul>
<li>debian11源</li>
</ul>
<pre><code class="language-bash">## tencentyun
deb http://mirrors.tencentyun.com/debian bullseye main contrib non-free
deb http://mirrors.tencentyun.com/debian bullseye-updates main contrib non-free
deb http://mirrors.tencentyun.com/debian bullseye-backports main contrib non-free
deb http://mirrors.tencentyun.com/debian bullseye-proposed-updates main contrib non-free

## 163
deb http://mirrors.163.com/debian/ bullseye main non-free contrib
deb https://mirrors.163.com/debian-security/ bullseye-security main
deb http://mirrors.163.com/debian/ bullseye-updates main non-free contrib
deb http://mirrors.163.com/debian/ bullseye-backports main non-free contrib

## huawei
deb https://mirrors.huaweicloud.com/debian/ bullseye main non-free contrib
deb https://mirrors.huaweicloud.com/debian-security/ bullseye-security main
deb https://mirrors.huaweicloud.com/debian/ bullseye-updates main non-free contrib
deb https://mirrors.huaweicloud.com/debian/ bullseye-backports main non-free contrib

## tsinghua.edu
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-updates main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian/ bullseye-backports main contrib non-free
deb https://mirrors.tuna.tsinghua.edu.cn/debian-security bullseye-security main contrib non-free

## ustc.edu
deb https://mirrors.ustc.edu.cn/debian/ bullseye main contrib non-free
deb https://mirrors.ustc.edu.cn/debian/ bullseye-updates main contrib non-free
deb https://mirrors.ustc.edu.cn/debian/ bullseye-backports main contrib non-free
deb https://mirrors.ustc.edu.cn/debian-security/ bullseye-security main contrib non-free
</code></pre>
<ul>
<li>ppa源
<ul>
<li>软件安装<code>apt install software-properties-common</code></li>
<li>添加ppa源<code>add-apt-repository &quot;url&quot;</code></li>
<li>删除ppa源<code>add-apt-repository -r &quot;url&quot;</code></li>
</ul>
</li>
</ul>
<h2 id="其它"><a class="header" href="#其它">其它</a></h2>
<h3 id="windows远程dwm桌面环境"><a class="header" href="#windows远程dwm桌面环境">windows远程dwm桌面环境</a></h3>
<p>在用户目录下新建.xsession文件，里面添加以下命令</p>
<pre><code class="language-shell">exec dwm
</code></pre>
<p>安装xrdp：<code>apt install xrdp</code></p>
<p>启动：<code>sudo /etc/init.d/xrdp start</code></p>
<h3 id="笔记本电源管理相关"><a class="header" href="#笔记本电源管理相关">笔记本电源管理相关</a></h3>
<ul>
<li>笔记本合盖休眠配置文件：/etc/systemd/logind.conf</li>
<li>linux 引导页面配置文件：/etc/default/grub</li>
<li>将GRUB_TIMEOUT设置为0则可以跳过引导页面</li>
</ul>
<h3 id="输入法"><a class="header" href="#输入法">输入法</a></h3>
<ul>
<li>fcitx5：<code>sudo apt install fcitx5 fcitx5-frontend-qt5 fcitx5-frontend-gtk3 fcitx5-frontend-gtk2 fcitx5-chinese-addons</code></li>
</ul>
<h3 id="linux设置键盘速率"><a class="header" href="#linux设置键盘速率">linux设置键盘速率</a></h3>
<p><code>xset r rate 250 60</code></p>
<p>250毫秒后开始重复，每60毫秒重复一次</p>
<h2 id="dwm"><a class="header" href="#dwm">DWM</a></h2>
<ul>
<li>基础桌面环境：<code>apt install libx11-dev libxft-dev libxinerama-dev xorg</code></li>
<li>系统托盘：<code>apt install trayer</code></li>
<li>壁纸软件：<code>apt install feh</code></li>
<li>复制配置文件<code>cp /etc/X11/xinit/xinitrc ~/.xinitrc</code></li>
<li>基础命令：
<ul>
<li>killall：<code>psmisc</code></li>
</ul>
</li>
<li>使用git clone dwm源码官网https://tools.suckless.org/</li>
<li>进入dwm目录<code>make clean instal</code>编译安装dwm
<ul>
<li>安装编译依赖<code>sudo apt install make gcc</code></li>
<li>编译xinitrc文件 <code>nvim ~/.xinitrc</code></li>
<li>文件最后加上<code>exec dwm</code></li>
</ul>
</li>
<li>文件上面有些目录可能需要注释才能启动</li>
<li>安装输入法<code>apt install fcitx fcitx-pinyin</code></li>
<li>用dmenu打开<code>fcitx-config-gtk3</code>应用，配置双拼</li>
<li>安装nerd fonts图标字体
<ul>
<li>nerd fonts 字体下载页面：https://www.nerdfonts.com/font-downloads</li>
<li>选择一个字体下载，我这里选择一个只有图标的字体</li>
<li>解压字体压缩包到系统字体目录下：<code>sudo unzip 压缩包名称 -d /usr/share/fonts/压缩包名称</code></li>
<li>进入到解压的字体目录下：<code>cd /usr/share/fonts/压缩包名称</code>
<ul>
<li>生成核心字体信息：<code>sudo mkfontscale</code></li>
<li>生成字体文件夹：<code>sudo mkfontdir</code></li>
<li>刷新系统字体缓存：<code>sudo fc-cache -fv</code></li>
</ul>
</li>
<li>打开dwm配置文件
<ul>
<li>查找字体名称：<code>fc-list | grep 安装的字体名称</code></li>
<li>复制出对应的字体名称，在grep出结果里面，一般在 <code>:style=xxx</code>前面，<code>xxx.ttf：</code>后面</li>
<li>找到<code>*fonts[]</code>常量，将上一步复制的字体名称粘贴在这里，后面加上<code>pixelsize=图标大小:type=上一步style后面的值:antialise=true:autohint=true</code>后面两个是抗锯齿之类的属性</li>
<li>保存退出后<code>sudo make clean install</code> 重新编译安装dwm</li>
<li>重启后就可以设置nerd fonts的字体了，字体网址：https://www.nerdfonts.com/cheat-sheet</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="问题"><a class="header" href="#问题">问题</a></h2>
<h2 id="apt相关"><a class="header" href="#apt相关">apt相关</a></h2>
<p>apt install 或upgrade 时 installed initramfs-tools package post-installation script subprocess returned error exit status 1错误</p>
<ul>
<li><code>rm /var/lib/dpkg/info/报错的包名</code></li>
<li><code>dpkg --configure -D 777 报错的包名</code></li>
<li><code>apt -f install</code></li>
</ul>
<h3 id="ppa错误"><a class="header" href="#ppa错误">PPA错误</a></h3>
<h4 id="e-the-repository-httpppalaunchpadnetjonathonfvimubuntu-focal-release-no-longer-has-a-release-file"><a class="header" href="#e-the-repository-httpppalaunchpadnetjonathonfvimubuntu-focal-release-no-longer-has-a-release-file">E: The repository ‘http://ppa.launchpad.net/jonathonf/<a href="https://so.csdn.net/so/search?q=vim&amp;spm=1001.2101.3001.7020">vim</a>/ubuntu focal Release’ no longer has a Release file.</a></h4>
<ul>
<li>
<p>删除仓库，-r 后面的参数表示要删除的仓库，取值如下图所示，记得换成自己报错的仓库</p>
</li>
<li>
<p>sudo apt-add-repository -r ppa:jonathonf/vim	# 这里换成自己报错的仓库</p>
</li>
<li>
<p>更新仓库包列表</p>
</li>
<li>
<p>sudo apt update</p>
</li>
</ul>
<h3 id="更新错误"><a class="header" href="#更新错误">更新错误</a></h3>
<ul>
<li>
<p>错误：</p>
<p>dpkg: 处理软件包 initramfs-tools (--configure)时出错：
installed initramfs-tools package post-installation script subprocess returned error exit status 1
在处理时有错误发生：
initramfs-tools
E: Sub-process /usr/bin/dpkg returned an error code (1)</p>
</li>
<li>
<p>解决方法：</p>
<ul>
<li>现将info文件夹更名：<code>sudo mv /var/lib/dpkg/info /var/lib/dpkg/info_old</code></li>
<li>再新建一个新的info文件夹：<code>sudo mkdir /var/lib/dpkg/info</code></li>
<li><code>sudo apt-get update</code></li>
<li><code>apt-get -f install</code> </li>
<li>执行完上一步操作后会在新的info文件夹下生成一些文件，现将这些文件全部移到info_old文件夹下：<code>sudo mv /var/lib/dpkg/info/* /var/lib/dpkg/info_old</code> </li>
<li>把自己新建的info文件夹删掉：<code>sudo rm -rf /var/lib/dpkg/info</code></li>
<li>把以前的info文件夹重新改回名字：<code>sudo mv /var/lib/dpkg/info_old /var/lib/dpkg/info</code></li>
</ul>
</li>
</ul>
<h2 id="nvidia显卡驱动相关"><a class="header" href="#nvidia显卡驱动相关">nvidia显卡驱动相关</a></h2>
<ul>
<li><code>sudo apt install build-essential libglvnd-dev</code></li>
<li>如果出现以下错误</li>
</ul>
<pre><code>Unable to find the kernel source tree for the currently running kernel.  Please make sure you have installed the kernel source files for
your kernel and that they are properly configured; on Red Hat Linux systems, for example, be sure you have the 'kernel-source' or
'kernel-devel' RPM installed.  If you know the correct kernel source files are installed, you may specify the kernel source path with
the '--kernel-source-path' command line option
</code></pre>
<pre><code>* 安装内核源码包：`sudo apt install linux-source`
* 安装内核头文件包：`sudo apt install linux-headers-$(uname -r)`
* 这些操作以debian为例
</code></pre>
<h2 id="网络工具相关"><a class="header" href="#网络工具相关">网络工具相关</a></h2>
<ul>
<li><code>sudo apt install net-tools</code></li>
</ul>
<h2 id="安装typora"><a class="header" href="#安装typora">安装typora</a></h2>
<ul>
<li><a href="https://typoraio.cn/#linux">linux官方安装教程</a></li>
<li>适合debian系linux</li>
<li><code>wget -qO - https://typoraio.cn/linux/public-key.asc | sudo tee /etc/apt/trusted.gpg.d/typora.asc</code></li>
<li><code>sudo add-apt-repository 'deb https://typoraio.cn/linux ./'</code></li>
<li><code>sudo apt-get update</code></li>
<li><code>sudo apt-get install typora</code></li>
</ul>
<h2 id="缺少ifconfig命令"><a class="header" href="#缺少ifconfig命令">缺少ifconfig命令</a></h2>
<ul>
<li><code>sudo apt install net-tools</code></li>
</ul>
<h2 id="禁用watchdog程序导致系统关机或重启时卡死"><a class="header" href="#禁用watchdog程序导致系统关机或重启时卡死">禁用watchdog程序，导致系统关机或重启时卡死</a></h2>
<ul>
<li>打开grub文件 <code>sudo nvim /etc/default/grub</code></li>
<li>添加或修改<code>GRUB_CMDLINE_LINUX=&quot;nmi_watchdog=0&quot;</code></li>
<li>更新grub配置 <code>sudo update-grub</code></li>
</ul>
<h2 id="ubuntu相关操作"><a class="header" href="#ubuntu相关操作">Ubuntu相关操作</a></h2>
<h3 id="linux-安装显卡驱动"><a class="header" href="#linux-安装显卡驱动">linux 安装显卡驱动</a></h3>
<ul>
<li>
<p>修改 blacklist.conf文件：<code>sudo vim /etc/modprobe.d/blacklist.conf</code>，在最后一行添加，添加后需要重启</p>
<pre><code class="language-shell">blacklist nouveau
</code></pre>
</li>
<li>
<p>执行命令安装必要的库：</p>
<ul>
<li><code>sudo apt update &amp;&amp; sudo apt install build-essential</code></li>
<li><code>sudo apt-get install libglvnd-dev</code></li>
</ul>
</li>
<li>
<p>从Nvidia官网下载驱动文件</p>
<ul>
<li>使用命令行进入下载的文件的目录</li>
</ul>
</li>
<li>
<p>安装命令：<code>sudo bash 文件名</code></p>
<ul>
<li>如果提示X server相关则加上 <code>-no-x-check</code>参数</li>
<li>卸载，加上<code>--uninstall</code> 参数</li>
</ul>
</li>
</ul>
<h3 id="ubuntu-合并状态栏和dock栏"><a class="header" href="#ubuntu-合并状态栏和dock栏">ubuntu 合并状态栏和dock栏</a></h3>
<ul>
<li>​	浏览器安装<code>gnome shell integration</code>插件</li>
<li>进入<a href="https://extensions.gnome.org/">gnome扩展网址</a>
<ul>
<li>搜索<code>dash to panel</code>插件 打开即可</li>
</ul>
</li>
</ul>
<h2 id="linux-音频相关"><a class="header" href="#linux-音频相关">linux 音频相关</a></h2>
<h3 id="alsa"><a class="header" href="#alsa">alsa</a></h3>
<ul>
<li>音频底层</li>
</ul>
<h3 id="pulseaudio"><a class="header" href="#pulseaudio">pulseaudio</a></h3>
<ul>
<li>音频服务</li>
</ul>
<h3 id="pipewire"><a class="header" href="#pipewire">pipewire</a></h3>
<ul>
<li>音频服务，可以替代pulseaudio</li>
</ul>
<h3 id="wireplumber"><a class="header" href="#wireplumber">wireplumber</a></h3>
<ul>
<li>pipewire 客户端</li>
</ul>
<h3 id="qpwgraph"><a class="header" href="#qpwgraph">qpwgraph</a></h3>
<ul>
<li>pipewire的图形界面客户端</li>
</ul>
<h3 id="bluez"><a class="header" href="#bluez">bluez</a></h3>
<ul>
<li>蓝牙协议底层</li>
</ul>
<h3 id="bluetooth"><a class="header" href="#bluetooth">bluetooth</a></h3>
<ul>
<li>蓝牙服务，自带bluetoothctl交互命令</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../linux/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../linux/vsftp/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../linux/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../linux/vsftp/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
