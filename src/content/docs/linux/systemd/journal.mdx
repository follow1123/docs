---
title: 日志
sidebar:
    order: 5
---

## 服务日志

```bash
# 查看指定服务的日志
journalctl -u <unit_name>

# 实时查看指定服务的日志，类似 tail -f
journalctl -f -u <unit_name>
```

## 日志级别

- `--system` - 系统级别
- `--user` - 用户级别

默认只显示当前用户可以查看的所有日志

## 启动日志

```bash
# 查看系统当前启动后的所有日志
journalctl -b

# 查看系统上次启动后的所有日志
journalctl -b -1

# 查看系统上上次启动后的所有日志
journalctl -b -2
```

## 内核日志

```bash
# 查看系统内核日志，和 dmesg 一样
journalctl -k

# 查看上次启动时系统的内核日志
journalctl -k -b -1
```

## 日志优先级

| 优先级    | 等级 | 描述                               | 数值 |
| --------- | ---- | ---------------------------------- | ---- |
| `emerg`   | 紧急 | 系统不可用，通常是灾难性的错误     | 0    |
| `alert`   | 警戒 | 必须立刻采取措施的严重错误         | 1    |
| `crit`    | 严重 | 致命错误，通常需要修复             | 2    |
| `err`     | 错误 | 一般错误，可能影响某个功能         | 3    |
| `warning` | 警告 | 警告信息，非致命，但可能会导致问题 | 4    |
| `notice`  | 通知 | 正常操作中发生的有用信息           | 5    |
| `info`    | 信息 | 一般信息，系统状态等               | 6    |
| `debug`   | 调试 | 调试信息，最详细的日志             | 7    |

```bash
# 查看所有 info 级别日志
journalctl -p 6

# 查看指定服务所有 err 级别日志
journalctl -u <unit_name> -p err
```
