---
title: 文件系统
sidebar:
    order: 0
---

import { FileTree } from "@astrojs/starlight/components";

Linux 的文件系统采用 单一根目录（/），所有文件和目录都从根目录开始。所有挂载的磁盘和文件系统都会整合到这个层次结构中

## 文件层次

<FileTree>

- / 系统根路径
    - bin/ 可执行文件
    - boot/ 启动引导文件，如内核文件
    - dev/ 设备文件（如硬盘、终端、USB 设备等）
    - etc/ 系统配置文件
    - home/ 用户主目录
    - lib/ 系统共享库
    - media/ 可移动媒体（如 CD-ROM、U 盘等）
    - mnt/ 临时挂载目录
    - opt/ 可选应用程序软件包
    - proc/ 进程信息虚拟文件系统
    - root/ 根用户的主目录
    - run/ 运行时文件（如进程 PID 文件）
    - sbin/ 系统管理命令文件
    - srv/ 服务数据
    - sys/ 系统信息文件（如硬件信息）
    - tmp/ 临时文件
    - usr/ 用户程序文件
    - var/ 可变数据文件（如日志文件、数据库文件等）

</FileTree>

:::note
在 Debian 系列系统下 `/bin`，`/sbin`，`/lib` 这几个文件夹是连接到 `/usr` 目录下对应的文件夹
:::

### 软件数据存放路径

Linux 下有几个存放软件数据的位置，分别对应不同的情况

- `/usr` - 存放包管理安装的软件数据，里面的软件一般给所有用户和管理员使用
- `/usr/local` - 存放手动安装并可以给所有用户使用的软件
- `~/.local` - 根据 [freedesktop](https://specifications.freedesktop.org/basedir-spec/latest/) 规范，存放当前用户自己安装的软件，软件只有当前用户可以使用
- `/opt` - 第三方闭源软件安装路径

`/usr`，`/usr/local`，`~/.local` 这三个路径下的目录格式基本一样

- `bin` - 存放可执行文件
- `include` - 头文件
- `lib` - 库文件
- `share` - 软件数据
    - `share/applications` - 软件对应的 `.desktop` 文件，桌面环境下使用
    - `share/fonts` - 字体
    - `share/icons` - 图标
    - `share/man` - 帮助手册
    - `share/doc` - 文档
- `src` - 源码

### 配置存放路径

- `/etc` - 系统级别软件配置文件存放路径，（包管理器、防火墙等）
- `~/.config` - 用户级别软件存放路径，以前全放在用户家目录下，根据 [freedesktop](https://specifications.freedesktop.org/basedir-spec/latest/) 规范，调整为这个目录

## 文件类型

使用 `ls -l` 命令每行的第一个字符就表示文件的类型

| 文件类型         | 标识符 | 描述                                                         |
| ---------------- | ------ | ------------------------------------------------------------ |
| 普通文件         | `-`    | 存储数据的文件，可以是文本文件、二进制文件、图像等           |
| 目录文件         | `d`    | 用于存储文件的容器，包含其他文件和目录的路径                 |
| 符号链接文件     | `l`    | 指向另一个文件或目录的链接                                   |
| 硬链接文件       | `-`    | 共享相同数据块的文件，没有区别于普通文件，但指向相同的数据块 |
| 字符设备文件     | `c`    | 用于与字符设备（如终端、串口）通信的文件                     |
| 块设备文件       | `b`    | 用于与块设备（如硬盘、USB 驱动器）通信的文件                 |
| 管道文件（FIFO） | `p`    | /tmp/mypipe 用于进程间通信的特殊文件，允许进程间传递数据     |
| 套接字文件       | `s`    | 用于网络通信和进程间通信的特殊文件                           |

:::note
使用 `file <filename>` 查看文件的类型名称

使用 `stat <filename>` 查看文件详细信息
:::
