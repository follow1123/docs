---
title: 说明
sidebar:
    order: 0
---

索引（index）是帮助MySQL `高校获取数据` 的 `数据结构（有序）`

在数据之外，数据库系统还维护着满足特点查找算法的数据结构

这些数据结构以某种方式引用（指向）数据， 这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引

假如有一张用户表，需要查询出这张表内所有年龄等于30岁的用户

- 在没有索引的情况下，需要将整张表遍历一遍才能找到所有年龄等于30岁的用户，这种方式也叫 `全表扫描`
- 在有索引的情况下，会根据年龄这一列数据构建一颗二叉树，再搜索时就会提高效率

这种方式类似二分搜索和遍历的对比

| 优势                                                        | 劣势                                                                                           |
| ----------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| 提高数据检索效率，降低数据库IO成本                          | 索引列也需要占用空间                                                                           |
| 通过索引列对数据进行排序，降低数据排序的成本，降低CPU的消耗 | 索引大大提高了查询效率，同时也降低了更新表的速度，如对表进行INSERT、UPDATE、DELETE时，效率降低 |

## 索引设计原则

- 针对数据量大（100w条以上），且查询比较频繁的表建立索引。
- 针对于常用作为查询条件（where）、排序（order by）、分组（group by）操作的字段建立索引
- 尽量选择区分度高的列作为索引，尽量建立唯一索引，区分度越高，使用索引的效率就越高
- 如果是字符串类型的字段，字段的长度较长，可以针对于字段的特点，建立前缀索引
- 尽量使用联合索引，减少单列索引，查询时，联合索引很多时候可与覆盖索引，节省存储空间，
  避免回表，提高查询效率
- 要控制索引的数量，索引并不是越多越好，索引越多，维护索引结构的代价也就越大，会影响增删改的效率
- 果索引列不能存储 NULL 值，在创建表时使用 NOT NULL 约束它。当优化器知道每列是否包含 NULL 值时，
  它可以更好地确定哪个索引最有效地用于查询
