---
sidebar_position: 4
---

# 多线程和高并发

## 程序、进程和线程

* **程序（program）**：为完成特定的任务，用某种语言编写的一组指令的集合。及指**一段静态的代码**
* **进程（process）**：程序的一次执行过程，或是正在内存中运行的应用程序
    * 每个进程都有一个独立的内存空间，系统运行一个程序既是一个进程从创建、运行到消亡的过程（生命周期）
    * 程序时静态的，进程是动态的
    * 进程作为**操作系统调度和分配资源的最小单位**（系统运行程序的基本单位），
    系统在运行时会为每个进程分配不同的内存区域
* **线程（thread）**：进程可进一步细化为线程，是程序内部的一条执行路径，一个进程中至少有一个线程
    * 一个进程同一时间若**并行**执行多个线程，就是支持多线程的。
    * 线程作为**CPU调度和执行的最小单位**
    * 一个进程中多个线程共享相同的内存单元，但多个线程操作共享的系统资源可能就会带来安全隐患
    * JVM就是一个进程，JVM内部的**虚拟机栈**、**本地方法栈**、**程序计数器**每个线程各有一份，
    只有**方法区**和**堆**是线程共享的

## 线程调度

* **分时调度**：所有线程轮流使用CPU的使用权，并且平均分配每个线程占用CPU的时间
* **抢占式调度**：让**优先级高**的线程以较大的概率优先使用CPU。如果线程的优先级相同，
那么会随机选择一个（线程随机性），java使用的为抢占式调度

## 并行与并发

* **并行（parallel）**：指两个或多个事件在**同一时刻**发生（同时发生）。
有多条指令在多个CPU上同时执行。
* **并发（concurrency）**：指两个或多个时间在**同一时间段内**发生。
有多条指令在单个CPU上快速轮换、交替执行，使得在宏观上具有多个进程同时执行的效果

```mdx-code-block
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

## 参考

* [黑马](https://www.bilibili.com/video/BV16J411h7Rd/?spm_id_from=333.788.videopod.episodes&vd_source=c8dac761c9fcb8220ee9059d06ac692e)
* [尚硅谷](https://www.bilibili.com/video/BV1ar4y1x727/) 
